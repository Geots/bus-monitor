#  Bus Tracker Solution: Σύστημα Παρακολούθησης Σχολικών Λεωφορείων

Το **Bus Tracker Solution** είναι ένα ολοκληρωμένο Κυβερνοφυσικό Σύστημα (CPS) για την παρακολούθηση, τον έλεγχο παρουσίας μαθητών (RFID) και την ανίχνευση κινδύνου (Accident/Overspeeding) σε σχολικά λεωφορεία. Το σύστημα βασίζεται σε μια κατανεμημένη αρχιτεκτονική μεταξύ Arduino Uno (Συλλογή Δεδομένων) και ESP8266 (Gateway/Cloud).

---

##  1. ΣΚΟΠΟΣ ΤΗΣ ΕΡΓΑΣΙΑΣ

Σκοπός είναι η **σχεδίαση, κατασκευή και επίδειξη** σε λειτουργία μιας διάταξης για την **παρακολούθηση (tracking)** και **διαχείριση κινδύνου** σχολικών λεωφορείων. Ο αυτοματισμός συλλέγει σε πραγματικό χρόνο:
* Τη **γεωγραφική θέση (GPS)** και **ταχύτητα** του οχήματος.
* Την **κατάσταση κίνησης** (επιτάχυνση) για ανίχνευση ατυχημάτων.
* Την **ταυτότητα** (RFID) των μαθητών για έλεγχο παρουσίας.
Το σύστημα στέλνει **άμεσα (real-time)** ειδοποιήσεις και το πλήρες payload δεδομένων στο Cloud (μέσω MQTT) για συνεχή απομακρυσμένη παρακολούθηση.

---

##  2. ΑΡΧΙΤΕΚΤΟΝΙΚΗ ΣΥΣΤΗΜΑΤΟΣ

Η διάταξη χωρίζεται σε τρία διακριτά επίπεδα, όπως φαίνεται στο παρακάτω διάγραμμα:

### 2.1. Onboard Hardware (Arduino Uno Cluster)
* **Ρόλος:** Συλλογή δεδομένων αισθητήρων (ADXL343, DHT22, HC-SR04, RFID).
* **Σύνδεση:** Στέλνει ένα **JSON payload** στο ESP8266 μέσω **Hardware Serial** (με Level Shifter για μετατροπή τάσης $5\text{V} \rightarrow 3.3\text{V}$).

### 2.2. Communication Layer (ESP8266 Gateway)
* **Ρόλος:** **Aggregation** (Συγκέντρωση) και **Warning Analysis**.
* **Λογική:** Λαμβάνει JSON από το Uno, λαμβάνει GPS data από το Garmin (μέσω Software Serial), εκτελεί **επτά (7) ελέγχους ασφαλείας** (π.χ., Overspeeding, Impact) και ενσωματώνει όλα τα δεδομένα σε ένα τελικό, πλήρες JSON.

### 2.3. Cloud & Monitoring
* **Ρόλος:** Απομακρυσμένη δημοσίευση και λήψη δεδομένων.
* **Πρωτόκολλο:** **MQTT Broker** (π.χ., HiveMQ) για τη διαχείριση των topics **`bus_tracker/data`** και **`bus_tracker/warnings`**.

---

##  3. ΟΔΗΓΙΕΣ ΕΓΚΑΤΑΣΤΑΣΗΣ & ΛΕΙΤΟΥΡΓΙΑΣ

### 3.1. Απαιτήσεις Υλικού (BOM)
Απαιτούνται οι δύο κύριοι μικροελεγκτές και οι ακόλουθοι αισθητήρες:
* **Controller:** Arduino Uno Rev3, ESP8266 Dev Board.
* **Sensors:** MFRC522 RFID, ADXL343 Accelerometer, DHT22, HC-SR04, Garmin eTrex PCB (ως GPS module).
* **Interface:** Logic Level Shifter ($5\text{V} / 3.3\text{V}$).

### 3.2. Απαιτήσεις Λογισμικού (Libraries)
Πρέπει να εγκατασταθούν οι ακόλουθες βιβλιοθήκες μέσω του Library Manager του Arduino IDE:
* `PubSubClient`
* `ArduinoJson`
* `TinyGPSPlus`
* `Adafruit ADXL343`
* `MFRC522`
* `DHT sensor library`

### 3.3. Διαμόρφωση Κώδικα (ESP8266)
Πριν την φόρτωση του κώδικα στο ESP8266, πρέπει να ρυθμιστούν τα διαπιστευτήρια Wi-Fi:
```cpp
const char* ssid = "YOUR_WIFI_SSID"; 
const char* password = "YOUR_WIFI_PASSWORD";